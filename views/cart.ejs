<%- include('./partials/header') %>

<div class="w-full min-h-screen flex items-start px-20 py-20 gap-10">
  <!-- Cart Product -->
  <div class="w-[30%] rounded-md overflow-hidden border shadow">
           <div class="w-full h-52 flex items-center justify-center"
               style="background-color:<%= product.bgcolor %>;">
            <% if (product.image) { %>
              <img class="h-[12rem] object-contain"
                   src="data:image/jpeg;base64,<%= product.image.toString('base64') %>"
                   alt="Product Image">
            <% } else { %>
              <img class="h-[12rem] object-contain"
                   src="/images/default-product.jpg"
                   alt="Default Product">
            <% } %>
          </div>
    <div class="w-full flex justify-between px-5 py-4">
      <h3 class="text-2xl font-semibold"><%= product.itemname %></h3>
      <div class="flex items-center gap-2">
        <button class="w-7 h-7 bg-white border rounded-full flex items-center justify-center">+</button>
        <div class="px-2 py-1 rounded-md bg-white border text-black">01</div>
        <button class="w-7 h-7 bg-white border rounded-full flex items-center justify-center">-</button>
      </div>
    </div>
    <div class="flex items-center justify-between px-5 py-3">
      <h4 class="text-lg">Net Total</h4>
      <h2 class="text-lg font-medium">₹ <%= product.price %></h2>
    </div>
  </div>

  <!-- Price Breakdown -->
  <div class="w-[70%]">
    <h3 class="text-xl font-semibold">Price Breakdown</h3>
    <div class="px-10 mt-5 space-y-2">
      <div class="flex">
        <h4 class="w-1/3">Total MRP</h4>
        <h4>₹ <%= product.price %></h4>
      </div>
      <div class="flex">
        <h4 class="w-1/3">Discount</h4>
        <h4>₹ <%= product.discount  %></h4>
      </div>
      <div class="flex">
        <h4 class="w-1/3">Platform Fee</h4>
        <h4>₹ 20</h4>
      </div>
      <div class="flex">
        <h4 class="w-1/3">Shipping Fee</h4>
        <h4>FREE</h4>
      </div>
    </div>

    <div class="w-full h-[1px] bg-black mt-10"></div>

    <div class="flex mt-5">
      <h3 class="w-1/3 text-xl">Total Amount</h3>
      <h3 class="font-semibold text-xl text-green-600">₹ <%= (product.price - product.discount) %></h3>
    </div>

    <form action="/checkout" method="POST" class="mt-5">
      <input type="hidden" name="productId" value="<%= product._id %>">
      <button type="submit" class="px-6 py-2 bg-green-600 text-white rounded-md">Checkout</button>
    </form>
  </div>
</div>

<%- include('./partials/footer') %>
